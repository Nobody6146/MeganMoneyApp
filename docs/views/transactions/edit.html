<div hidden>
    <select>
        <optgroup spa-template="TransactionTypesListTemplate">
            <option spa-model="_" spa-property="value value;name innerHTML" spa-trigger="value bind {{page.data.transaction.transactionTypeId}}"></option>
        </optgroup>
    </select>
    <select>
        <optgroup spa-template="PaymentMethodsListTemplate">
            <option spa-model="_" spa-property="id value;name innerHTML" spa-trigger="id bind {{page.data.transaction.paymentMethodId}}"></option>
        </optgroup>
    </select>
    <select>
        <optgroup spa-template="PrimaryCategoriesListTemplate">
            <option spa-model="_" spa-property="id value;name innerHTML" spa-trigger="id bind {{page.data.transaction.primaryCategoryId}}"></option>
        </optgroup>
    </select>
    <datalist spa-template="LabelsListTemplate">
        <option spa-model="_" spa-property="name value; name innerHTML"></option>
    </datalist>
    <div spa-template="SubCategoryIconTemplate">
        <div spa-model="_" spa-delete="* evt" spa-event="unbind">
            <button style="margin:2px;" spa-model="_" spa-property="name name;name innerText" spa-handler="removeCategory onclick"></button>
        </div>
    </div>
</div>

<table>
    <tbody style="width: 100%">
        <tr>
            <td>Date</td>
            <td>
                <input type="date" placeholder="Pick date" spa-model="page.data.transaction" spa-property="transactionDate value" spa-input="name value"/>
            </td>
        </tr>
        <tr>
            <td>Amount</td>
            <td>
                <input type="number" spa-model="page.data.transaction" spa-property="amount value" spa-input="amount value" />
            </td>
        </tr>
        <tr>
            <td>Type</td>
            <td>
                <select spa-model="page.data.transaction" spa-property="transactionTypeId value" spa-input="transactionTypeId value">
                    <option value="" selected="" disabled="" hidden="">&lt;Pick Type&gt;</option>
                    <optgroup label="Types" spa-model="page.data" spa-list="transactionTypes TransactionTypesListTemplate">
                    </optgroup>
                </select>
            </td>
        </tr>
        <tr>
            <td>Payment Method</td>
            <td>
                <select spa-model="page.data.transaction" spa-property="paymentMethodId value" spa-input="paymentMethodId value">
                    <option value="" selected="" disabled="" hidden="">&lt;Pick Payment Method&gt;</option>
                    <optgroup label="Payment Method" spa-model="page.data.labels" spa-list="paymentMethods PaymentMethodsListTemplate">
                    </optgroup>
                </select>
            </td>
        </tr>
        <tr>
            <td>Category</td>
            <td>
                <select spa-model="page.data.transaction" spa-property="primaryCategoryId value" spa-input="primaryCategoryId value">
                    <option value="" selected="" disabled="" hidden="">&lt;Pick Payment Method&gt;</option>
                    <optgroup label="Category" spa-model="page.data.labels" spa-list="primaryCategories PrimaryCategoriesListTemplate">
                    </optgroup>
                </select>
            </td>
        </tr>
        <tr>
            <td style="vertical-align: top;">Sub Categories</td>
            <td>
                <form spa-model="page.data.subCategories" spa-handler="addSubCategory onsubmit">
                    <input type="text" list="subCategoryList" spa-model="page.data.subCategories" spa-property="selected value" spa-input="selected value"/>
                    <datalist id="subCategoryList" spa-model="page.data.labels" spa-list="subCategories LabelsListTemplate">
                    </datalist>
                </form>
                <div id="subCategories" style="display: flex;" spa-model="page.data.subCategories.categories" spa-component="* SubCategoryIconTemplate" spa-event="bind" spa-append>
                </div>
            </td>
        </tr>
        <tr>
            <td>Memo</td>
            <td>
                <input type="text" spa-model="page.data.transaction" spa-property="memo value" spa-input="memo value" />
            </td>
        </tr>
    </tbody>
</table>

<div style="width: 100%; display: flex; justify-content: space-around;">
    <button spa-model="page.data.buttons.cancel" spa-handler="onclick onclick">Cancel</button>
    <button spa-model="page.data.buttons.delete" spa-handler="onclick onclick">Delete</button>
    <button spa-model="page.data.buttons.save" spa-handler="onclick onclick">Save</button>
</div>